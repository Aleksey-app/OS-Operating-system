# Практическая работа №9
**Знакомство с методами создания статических и динамических библиотек в операционной системе, 
а также с методами использования библиотек в программах.**
> Создать три варианта библиотеки:
>1. статическую библиотеку;
>2. динамическую библиотеку для загрузки вместе с программой;
>3. динамическую библиотеку для загрузки по запросу из программы.
>В библиотеке реализовать функцию 
```c
struct hostent *gethostbyname(const char *name);
```

  Библиотека – это средство многократного использования объектного кода.
  
  Библиотеки бывают двух видов – статические и динамические.
  
  При использовании статической библиотеки коды, содержащиеся в ней, копируются в исполняемый код программы на этапе сборки. При использовании статических библиотек программа получается большего размера (по сравнению с программой, использующей динамические библиотеки), поскольку код библиотеки содержится в коде программы. Но при выполнении такой программы нет необходимости загружать библиотеки, что приводит к большей скорости выполнения.
  
Использование динамической библиотеки может осуществляться двумя способами.
- В первом случае при сборке в исполняемый код программы записываются сведения, позволяющие загрузить библиотеку на этапе загрузки программы.
- Во втором случае загрузка библиотеки происходит непосредственно во время выполнения программы с помощью специальных системных функций.

Чтобы из объектного кода создать статическую библиотеку, необходимо использовать команду **ar**

**ar** является бинарной утилитой, потому что архивы этого сорта очень часто используют как библиотеки (libraries) содержащие часто употребляющиеся подпрограммы. 
```
ar  cr   name.a  name.o
```
- Где: c - **Параметр создания архива** Создать архив. Если заданный архив не существует, то он будет создан при запросе на обновление. Если вы не задали имя архива, но использовали этот модификатор, то будет выдано предупреждающее сообщение.
- r - **Параметр добавления файлов в архив** Вставляет файлы компонент в архив (с замещением). 
- name.a - имя архивного файла – статической библиотеки;
- name.o - имя добавляемого в архив файла.

Помещаем файл name.a в один каталог с файлом example.o (для простоты) и вызываем команду сборки с подключением статической библиотеки:
```
g++	-static	-o	example		example.o	-L.	-lst
```
- Где:-static - указывает на необходимость подключения статической библиотеки;
- -L - указывает на включение библиотек из каталога, который указан после опции, указан текущий каталог “.”;
- -l - указывает на включение библиотеки “libst.a”.
